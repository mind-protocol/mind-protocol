# FalkorDB with Persistent Storage for Render
FROM falkordb/falkordb:latest

# Expose Redis port
EXPOSE 6379

# Data directory for persistence
VOLUME /data

# Run FalkorDB with aggressive persistence for production
# - RDB: saves every 60s if â‰¥1 change
# - AOF: append-only file for write-ahead logging (maximum durability)
CMD ["redis-server", "--loadmodule", "/FalkorDB/bin/linux-x64-release/src/falkordb.so", "--dir", "/data", "--save", "60", "1", "--appendonly", "yes", "--bind", "0.0.0.0"]
