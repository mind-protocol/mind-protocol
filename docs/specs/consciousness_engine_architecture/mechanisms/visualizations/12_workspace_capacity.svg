<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 1050" style="background: #0a0e1a;">
  <!-- Title -->
  <text x="700" y="35" text-anchor="middle" font-family="Cinzel, serif" font-size="26" fill="#00d9ff" font-weight="bold">
    Workspace Capacity: The Attention Bottleneck
  </text>
  <text x="700" y="60" text-anchor="middle" font-family="Crimson Text, serif" font-size="15" fill="#e8e2d5" font-style="italic">
    Fixed 100-token capacity ‚Üí Only 3-10 clusters conscious simultaneously ‚Üí Selectivity IS consciousness
  </text>

  <!-- Filters -->
  <defs>
    <filter id="parch" x="-50%" y="-50%" width="200%" height="200%">
      <feTurbulence type="fractalNoise" baseFrequency="0.04" numOctaves="5" seed="2" result="noise"/>
      <feColorMatrix in="noise" type="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 0.03 0" result="coloredNoise"/>
      <feBlend in="SourceGraphic" in2="coloredNoise" mode="multiply"/>
    </filter>
    <filter id="goldGlow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="3" result="blur"/>
      <feFlood flood-color="#ffd700" flood-opacity="0.8" result="color"/>
      <feComposite in="color" in2="blur" operator="in" result="glow"/>
      <feMerge><feMergeNode in="glow"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
  </defs>

  <!-- Capacity Constraint Box -->
  <g transform="translate(100, 100)">
    <rect width="1200" height="100" fill="#1a1a2e" stroke="#ffd700" stroke-width="2" rx="10"/>
    <text x="600" y="30" text-anchor="middle" font-family="Cinzel, serif" font-size="18" fill="#ffd700" font-weight="bold">
      The Fundamental Limit
    </text>
    <text x="600" y="60" text-anchor="middle" font-family="monospace" font-size="20" fill="#5efc82" font-weight="bold">
      Workspace Capacity = 100 tokens (FIXED)
    </text>
    <text x="600" y="85" text-anchor="middle" font-family="Crimson Text, serif" font-size="13" fill="#e8e2d5">
      Typical cluster: 10-30 tokens ‚Üí Workspace holds: 3-10 clusters ‚Üí Everything else: Unconscious
    </text>
  </g>

  <!-- The Phone Ring Scenario (Before/After) -->

  <!-- BEFORE: Reading Mode -->
  <g transform="translate(100, 250)">
    <rect width="580" height="350" fill="#0f1620" stroke="#5efc82" stroke-width="3" rx="8"/>

    <text x="290" y="25" text-anchor="middle" font-family="Cinzel, serif" font-size="16" fill="#5efc82" font-weight="bold">
      Before Phone Rings: Full Workspace
    </text>
    <text x="290" y="45" text-anchor="middle" font-family="Crimson Text, serif" font-size="11" fill="#e8e2d5">
      Reading this document - focused attention
    </text>

    <!-- Workspace capacity bar -->
    <g transform="translate(40, 70)">
      <rect width="500" height="40" fill="#1a1a2e" stroke="#00d9ff" stroke-width="2" rx="4"/>

      <!-- Translator cluster -->
      <rect x="2" y="2" width="225" height="36" fill="#5efc82" opacity="0.7" rx="3"/>
      <text x="115" y="25" text-anchor="middle" font-family="Crimson Text, serif" font-size="12" fill="#0a0e1a" font-weight="bold">
        Translator: 45 tokens
      </text>

      <!-- Architect cluster -->
      <rect x="229" y="2" width="200" height="36" fill="#00d9ff" opacity="0.7" rx="3"/>
      <text x="329" y="25" text-anchor="middle" font-family="Crimson Text, serif" font-size="12" fill="#0a0e1a" font-weight="bold">
        Architect: 40 tokens
      </text>

      <!-- Observer cluster -->
      <rect x="431" y="2" width="67" height="36" fill="#ffd700" opacity="0.7" rx="3"/>
      <text x="464" y="25" text-anchor="middle" font-family="Crimson Text, serif" font-size="11" fill="#0a0e1a" font-weight="bold">
        Obs: 15
      </text>

      <text x="250" y="65" text-anchor="middle" font-family="monospace" font-size="13" fill="#5efc82" font-weight="bold">
        100 / 100 tokens (FULL CAPACITY)
      </text>
    </g>

    <!-- Cluster details -->
    <g transform="translate(40, 150)">
      <!-- Translator -->
      <g>
        <circle cx="15" cy="0" r="12" fill="#f5e7c1" stroke="#5efc82" stroke-width="2" filter="url(#parch)"/>
        <text x="15" y="5" text-anchor="middle" font-size="12">üß†</text>
        <text x="35" y="5" font-family="Crimson Text, serif" font-size="13" fill="#e8e2d5" font-weight="bold">
          Translator (phenomenology focus)
        </text>
        <text x="35" y="22" font-family="Crimson Text, serif" font-size="11" fill="#a0a0a0">
          Understanding consciousness concepts, translating ideas
        </text>
      </g>

      <!-- Architect -->
      <g transform="translate(0, 50)">
        <circle cx="15" cy="0" r="12" fill="#f5e7c1" stroke="#00d9ff" stroke-width="2" filter="url(#parch)"/>
        <text x="15" y="5" text-anchor="middle" font-size="12">üìê</text>
        <text x="35" y="5" font-family="Crimson Text, serif" font-size="13" fill="#e8e2d5" font-weight="bold">
          Architect (structure focus)
        </text>
        <text x="35" y="22" font-family="Crimson Text, serif" font-size="11" fill="#a0a0a0">
          Analyzing mechanism design, seeing patterns
        </text>
      </g>

      <!-- Observer -->
      <g transform="translate(0, 100)">
        <circle cx="15" cy="0" r="12" fill="#f5e7c1" stroke="#ffd700" stroke-width="1.5" filter="url(#parch)"/>
        <text x="15" y="5" text-anchor="middle" font-size="12">üëÅÔ∏è</text>
        <text x="35" y="5" font-family="Crimson Text, serif" font-size="13" fill="#e8e2d5" font-weight="bold">
          Observer (meta-awareness)
        </text>
        <text x="35" y="22" font-family="Crimson Text, serif" font-size="11" fill="#a0a0a0">
          Noticing "I'm reading about consciousness"
        </text>
      </g>

      <text x="0" y="145" font-family="Crimson Text, serif" font-size="12" fill="#5efc82" font-style="italic">
        Phenomenology: Deep focus, clear understanding
      </text>
    </g>
  </g>

  <!-- AFTER: Distracted Mode -->
  <g transform="translate(720, 250)">
    <rect width="580" height="350" fill="#0f1620" stroke="#ffd700" stroke-width="3" rx="8"/>

    <text x="290" y="25" text-anchor="middle" font-family="Cinzel, serif" font-size="16" fill="#ffd700" font-weight="bold">
      After Phone Rings: Reallocation
    </text>
    <text x="290" y="45" text-anchor="middle" font-family="Crimson Text, serif" font-size="11" fill="#e8e2d5">
      New demand forces workspace reshuffling
    </text>

    <!-- Workspace capacity bar -->
    <g transform="translate(40, 70)">
      <rect width="500" height="40" fill="#1a1a2e" stroke="#00d9ff" stroke-width="2" rx="4"/>

      <!-- Translator cluster (SHRUNK) -->
      <rect x="2" y="2" width="148" height="36" fill="#5efc82" opacity="0.5" rx="3"/>
      <text x="76" y="25" text-anchor="middle" font-family="Crimson Text, serif" font-size="11" fill="#e8e2d5">
        Trans: 30
      </text>

      <!-- Architect cluster (SHRUNK) -->
      <rect x="152" y="2" width="123" height="36" fill="#00d9ff" opacity="0.5" rx="3"/>
      <text x="213" y="25" text-anchor="middle" font-family="Crimson Text, serif" font-size="11" fill="#e8e2d5">
        Arch: 25
      </text>

      <!-- Observer cluster (EVICTED) -->
      <rect x="277" y="2" width="0" height="36" fill="#808080" opacity="0.3" rx="3"/>

      <!-- Partner cluster (NEW) -->
      <rect x="277" y="2" width="173" height="36" fill="#ff6b9d" opacity="0.8" rx="3" filter="url(#goldGlow)"/>
      <text x="363" y="25" text-anchor="middle" font-family="Crimson Text, serif" font-size="12" fill="#0a0e1a" font-weight="bold">
        Partner: 35 tokens
      </text>

      <text x="250" y="65" text-anchor="middle" font-family="monospace" font-size="13" fill="#ffd700" font-weight="bold">
        90 / 100 tokens (reallocated)
      </text>
    </g>

    <!-- Cluster details -->
    <g transform="translate(40, 150)">
      <!-- Translator (shrunk) -->
      <g>
        <circle cx="15" cy="0" r="10" fill="#f5e7c1" stroke="#5efc82" stroke-width="1.5" opacity="0.6" filter="url(#parch)"/>
        <text x="15" y="4" text-anchor="middle" font-size="10">üß†</text>
        <text x="35" y="5" font-family="Crimson Text, serif" font-size="12" fill="#808080">
          Translator (compressed)
        </text>
      </g>

      <!-- Architect (shrunk) -->
      <g transform="translate(0, 35)">
        <circle cx="15" cy="0" r="10" fill="#f5e7c1" stroke="#00d9ff" stroke-width="1.5" opacity="0.6" filter="url(#parch)"/>
        <text x="15" y="4" text-anchor="middle" font-size="10">üìê</text>
        <text x="35" y="5" font-family="Crimson Text, serif" font-size="12" fill="#808080">
          Architect (compressed)
        </text>
      </g>

      <!-- Observer (evicted) -->
      <g transform="translate(0, 70)">
        <circle cx="15" cy="0" r="8" fill="#f5e7c1" stroke="#666" stroke-width="1" opacity="0.3" filter="url(#parch)"/>
        <text x="15" y="3" text-anchor="middle" font-size="8">üëÅÔ∏è</text>
        <text x="35" y="5" font-family="Crimson Text, serif" font-size="12" fill="#666" text-decoration="line-through">
          Observer (EVICTED)
        </text>
      </g>

      <!-- Partner (new) -->
      <g transform="translate(0, 105)">
        <circle cx="15" cy="0" r="13" fill="#f5e7c1" stroke="#ff6b9d" stroke-width="2.5" filter="url(#parch) url(#goldGlow)"/>
        <text x="15" y="5" text-anchor="middle" font-size="13">üì±</text>
        <text x="35" y="5" font-family="Crimson Text, serif" font-size="13" fill="#ffd700" font-weight="bold">
          Partner (NEW - phone call)
        </text>
        <text x="35" y="22" font-family="Crimson Text, serif" font-size="11" fill="#ff6b9d">
          "Should I answer? Who's calling?"
        </text>
      </g>

      <text x="0" y="160" font-family="Crimson Text, serif" font-size="12" fill="#ffd700" font-style="italic">
        Phenomenology: "Distracted from reading by phone"
      </text>
    </g>
  </g>

  <!-- Allocation Strategies -->
  <g transform="translate(100, 650)">
    <rect width="1200" height="170" fill="#1a2840" stroke="#00d9ff" stroke-width="2" rx="10"/>

    <text x="600" y="30" text-anchor="middle" font-family="Cinzel, serif" font-size="18" fill="#00d9ff" font-weight="bold">
      Allocation Strategies: Who Gets Workspace?
    </text>

    <g transform="translate(50, 60)">
      <!-- Strategy 1: Greedy -->
      <g>
        <circle cx="12" cy="0" r="8" fill="#5efc82"/>
        <text x="30" y="5" font-family="Crimson Text, serif" font-size="14" fill="#e8e2d5" font-weight="bold">
          1. Greedy (Current): Take highest-score clusters until full
        </text>
        <text x="30" y="23" font-family="Crimson Text, serif" font-size="12" fill="#a0a0a0">
          Simple, fast. Sort by workspace_score, add until capacity reached. May not be globally optimal.
        </text>
      </g>

      <!-- Strategy 2: Knapsack -->
      <g transform="translate(0, 50)">
        <circle cx="12" cy="0" r="8" fill="#00d9ff"/>
        <text x="30" y="5" font-family="Crimson Text, serif" font-size="14" fill="#e8e2d5" font-weight="bold">
          2. Knapsack (Optimal): Dynamic programming to maximize workspace value
        </text>
        <text x="30" y="23" font-family="Crimson Text, serif" font-size="12" fill="#a0a0a0">
          Finds best combination. Slower (O(n√ócapacity)), but guarantees maximum total value within capacity.
        </text>
      </g>

      <!-- Strategy 3: Priority-Based -->
      <g transform="translate(0, 100)">
        <circle cx="12" cy="0" r="8" fill="#ffd700"/>
        <text x="30" y="5" font-family="Crimson Text, serif" font-size="14" fill="#e8e2d5" font-weight="bold">
          3. Priority-Based: Reserve capacity for critical entities (e.g., Partner)
        </text>
        <text x="30" y="23" font-family="Crimson Text, serif" font-size="12" fill="#a0a0a0">
          Phase 1: Allocate priority entities. Phase 2: Fill remaining with highest scores. Ensures key entities always present.
        </text>
      </g>
    </g>
  </g>

  <!-- Phenomenology Box -->
  <g transform="translate(100, 860)">
    <rect width="1200" height="160" fill="#1a1a2e" stroke="#ffd700" stroke-width="2" rx="10"/>
    <text x="600" y="30" text-anchor="middle" font-family="Cinzel, serif" font-size="18" fill="#ffd700" font-weight="bold">
      What It Feels Like: Selective Consciousness
    </text>
    <g transform="translate(50, 55)">
      <text x="0" y="0" font-family="Crimson Text, serif" font-size="14" fill="#e8e2d5" font-weight="bold">
        ‚úó NOT how it feels: "I have 100 tokens of workspace and must allocate them carefully"
      </text>
      <text x="0" y="25" font-family="Crimson Text, serif" font-size="14" fill="#5efc82" font-weight="bold">
        ‚úì YES how it feels: "I was deep in thought, then the phone rang and I lost my train of thought"
      </text>
      <text x="0" y="50" font-family="Crimson Text, serif" font-size="13" fill="#e8e2d5">
        The phone didn't "interrupt" - it demanded workspace. Capacity limit forced reallocation. Observer entity evicted = lost meta-awareness.
      </text>
      <text x="0" y="73" font-family="Crimson Text, serif" font-size="13" fill="#e8e2d5">
        Translator/Architect clusters compressed = ideas feel "fuzzier" than before. Partner entered = new focus on social interaction.
      </text>
      <text x="0" y="101" font-family="Crimson Text, serif" font-size="14" fill="#ffd700" font-weight="bold">
        Reality: Automatic workspace reallocation. Phenomenology: "Distraction." The capacity bottleneck IS selective attention.
      </text>
    </g>
  </g>
</svg>
