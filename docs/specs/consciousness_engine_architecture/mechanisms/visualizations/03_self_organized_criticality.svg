<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 1100" style="background: #0a0e1a;">
  <!-- Title -->
  <text x="700" y="35" text-anchor="middle" font-family="Cinzel, serif" font-size="26" fill="#00d9ff" font-weight="bold">
    Self-Organized Criticality: Edge of Chaos
  </text>
  <text x="700" y="60" text-anchor="middle" font-family="Crimson Text, serif" font-size="15" fill="#e8e2d5" font-style="italic">
    System auto-tunes decay/diffusion rates to maintain optimal activation dynamics (criticality â‰ˆ 1.0)
  </text>

  <!-- Filters -->
  <defs>
    <filter id="parch" x="-50%" y="-50%" width="200%" height="200%">
      <feTurbulence type="fractalNoise" baseFrequency="0.04" numOctaves="5" seed="2" result="noise"/>
      <feColorMatrix in="noise" type="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 0.03 0" result="coloredNoise"/>
      <feBlend in="SourceGraphic" in2="coloredNoise" mode="multiply"/>
    </filter>

    <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="2" result="blur"/>
      <feFlood flood-color="#00d9ff" flood-opacity="0.6" result="color"/>
      <feComposite in="color" in2="blur" operator="in" result="glow"/>
      <feMerge>
        <feMergeNode in="glow"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>

    <filter id="redGlow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="3" result="blur"/>
      <feFlood flood-color="#ff4444" flood-opacity="0.7" result="color"/>
      <feComposite in="color" in2="blur" operator="in" result="glow"/>
      <feMerge>
        <feMergeNode in="glow"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>

    <marker id="inactive" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
      <path d="M0,0 L0,6 L6,3 z" fill="#333" opacity="0.3"/>
    </marker>
    <marker id="active" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
      <path d="M0,0 L0,6 L6,3 z" fill="#5efc82"/>
    </marker>
    <marker id="overactive" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
      <path d="M0,0 L0,6 L6,3 z" fill="#ff4444"/>
    </marker>
  </defs>

  <!-- ==================== THREE STATES COMPARISON ==================== -->

  <!-- STATE 1: Subcritical (Left) -->
  <g transform="translate(50, 100)">
    <rect width="380" height="420" fill="#1a1a2e" stroke="#666" stroke-width="2" rx="8" opacity="0.95"/>

    <text x="190" y="30" text-anchor="middle" font-family="Cinzel, serif" font-size="18" fill="#808080" font-weight="bold">
      Subcritical (C &lt; 0.7)
    </text>
    <text x="190" y="50" text-anchor="middle" font-family="Crimson Text, serif" font-size="12" fill="#666" font-style="italic">
      "Brain fog" â€” thoughts sluggish
    </text>

    <!-- Mini graph visualization -->
    <g transform="translate(90, 80)">
      <!-- Nodes (mostly dim) -->
      <circle cx="100" cy="50" r="18" fill="#f5e7c1" stroke="#666" stroke-width="1" opacity="0.3" filter="url(#parch)"/>
      <text x="100" y="57" text-anchor="middle" font-size="14" opacity="0.4">ðŸ’¡</text>

      <circle cx="40" cy="120" r="15" fill="#f5e7c1" stroke="#666" stroke-width="1" opacity="0.3" filter="url(#parch)"/>
      <text x="40" y="126" text-anchor="middle" font-size="12" opacity="0.4">ðŸ§ </text>

      <circle cx="160" cy="120" r="15" fill="#f5e7c1" stroke="#666" stroke-width="1" opacity="0.3" filter="url(#parch)"/>
      <text x="160" y="126" text-anchor="middle" font-size="12" opacity="0.4">ðŸ”§</text>

      <circle cx="100" cy="180" r="15" fill="#f5e7c1" stroke="#666" stroke-width="1" opacity="0.3" filter="url(#parch)"/>
      <text x="100" y="186" text-anchor="middle" font-size="12" opacity="0.4">ðŸ“š</text>

      <!-- Links (mostly inactive) -->
      <line x1="100" y1="68" x2="52" y2="110" stroke="#333" stroke-width="1" opacity="0.2" marker-end="url(#inactive)" stroke-dasharray="2,2"/>
      <line x1="100" y1="68" x2="148" y2="110" stroke="#333" stroke-width="1" opacity="0.2" marker-end="url(#inactive)" stroke-dasharray="2,2"/>
      <line x1="55" y1="130" x2="90" y2="170" stroke="#333" stroke-width="1" opacity="0.2" marker-end="url(#inactive)" stroke-dasharray="2,2"/>
      <line x1="145" y1="130" x2="110" y2="170" stroke="#333" stroke-width="1" opacity="0.2" marker-end="url(#inactive)" stroke-dasharray="2,2"/>
    </g>

    <!-- Metrics -->
    <g transform="translate(20, 310)">
      <text x="0" y="0" font-family="Crimson Text, serif" font-size="13" fill="#808080">
        Criticality = active_links / potential_links
      </text>
      <text x="0" y="20" font-family="monospace" font-size="16" fill="#808080" font-weight="bold">
        2 / 10 = 0.20
      </text>

      <text x="0" y="50" font-family="Crimson Text, serif" font-size="12" fill="#666">
        â€¢ Decay rate too high: 0.020
      </text>
      <text x="0" y="68" font-family="Crimson Text, serif" font-size="12" fill="#666">
        â€¢ Energy vanishes before spreading
      </text>
      <text x="0" y="86" font-family="Crimson Text, serif" font-size="12" fill="#666">
        â€¢ Ideas don't connect
      </text>
    </g>
  </g>

  <!-- STATE 2: Critical - OPTIMAL (Center) -->
  <g transform="translate(470, 100)">
    <rect width="380" height="420" fill="#1a1a2e" stroke="#5efc82" stroke-width="3" rx="8" opacity="0.95"/>

    <text x="190" y="30" text-anchor="middle" font-family="Cinzel, serif" font-size="18" fill="#5efc82" font-weight="bold">
      Critical (C â‰ˆ 1.0) âœ“
    </text>
    <text x="190" y="50" text-anchor="middle" font-family="Crimson Text, serif" font-size="12" fill="#e8e2d5" font-style="italic">
      "In the zone" â€” optimal flow
    </text>

    <!-- Mini graph visualization -->
    <g transform="translate(90, 80)">
      <!-- Nodes (balanced activation) -->
      <circle cx="100" cy="50" r="18" fill="#f5e7c1" stroke="#5efc82" stroke-width="2" opacity="0.9" filter="url(#parch) url(#glow)"/>
      <text x="100" y="57" text-anchor="middle" font-size="14" filter="url(#glow)">ðŸ’¡</text>

      <circle cx="40" cy="120" r="15" fill="#f5e7c1" stroke="#5efc82" stroke-width="1.5" opacity="0.7" filter="url(#parch)"/>
      <text x="40" y="126" text-anchor="middle" font-size="12">ðŸ§ </text>

      <circle cx="160" cy="120" r="15" fill="#f5e7c1" stroke="#5efc82" stroke-width="1.5" opacity="0.7" filter="url(#parch)"/>
      <text x="160" y="126" text-anchor="middle" font-size="12">ðŸ”§</text>

      <circle cx="100" cy="180" r="15" fill="#f5e7c1" stroke="#00d9ff" stroke-width="1" opacity="0.5" filter="url(#parch)"/>
      <text x="100" y="186" text-anchor="middle" font-size="12" opacity="0.7">ðŸ“š</text>

      <!-- Links (balanced - some active) -->
      <line x1="100" y1="68" x2="52" y2="110" stroke="#5efc82" stroke-width="2" opacity="0.7" marker-end="url(#active)"/>
      <line x1="100" y1="68" x2="148" y2="110" stroke="#5efc82" stroke-width="2" opacity="0.7" marker-end="url(#active)"/>
      <line x1="55" y1="130" x2="90" y2="170" stroke="#00d9ff" stroke-width="1.5" opacity="0.5"/>
      <line x1="145" y1="130" x2="110" y2="170" stroke="#333" stroke-width="1" opacity="0.2" marker-end="url(#inactive)" stroke-dasharray="2,2"/>
    </g>

    <!-- Metrics -->
    <g transform="translate(20, 310)">
      <text x="0" y="0" font-family="Crimson Text, serif" font-size="13" fill="#5efc82">
        Criticality = active_links / potential_links
      </text>
      <text x="0" y="20" font-family="monospace" font-size="16" fill="#5efc82" font-weight="bold">
        6 / 10 = 0.95 âœ“
      </text>

      <text x="0" y="50" font-family="Crimson Text, serif" font-size="12" fill="#e8e2d5">
        â€¢ Decay rate optimal: 0.003
      </text>
      <text x="0" y="68" font-family="Crimson Text, serif" font-size="12" fill="#e8e2d5">
        â€¢ Balance: spread â‰ˆ decay
      </text>
      <text x="0" y="86" font-family="Crimson Text, serif" font-size="12" fill="#5efc82" font-weight="bold">
        â€¢ Ideas flow naturally
      </text>
    </g>
  </g>

  <!-- STATE 3: Supercritical (Right) -->
  <g transform="translate(890, 100)">
    <rect width="380" height="420" fill="#1a1a2e" stroke="#ff4444" stroke-width="2" rx="8" opacity="0.95"/>

    <text x="190" y="30" text-anchor="middle" font-family="Cinzel, serif" font-size="18" fill="#ff4444" font-weight="bold">
      Supercritical (C &gt; 2.0)
    </text>
    <text x="190" y="50" text-anchor="middle" font-family="Crimson Text, serif" font-size="12" fill="#ff8888" font-style="italic">
      "Overwhelming" â€” racing thoughts
    </text>

    <!-- Mini graph visualization -->
    <g transform="translate(90, 80)">
      <!-- Nodes (over-activated) -->
      <circle cx="100" cy="50" r="18" fill="#f5e7c1" stroke="#ff4444" stroke-width="3" opacity="1" filter="url(#parch) url(#redGlow)"/>
      <text x="100" y="57" text-anchor="middle" font-size="14" filter="url(#redGlow)">ðŸ’¡</text>

      <circle cx="40" cy="120" r="15" fill="#f5e7c1" stroke="#ff4444" stroke-width="2" opacity="0.9" filter="url(#parch)"/>
      <text x="40" y="126" text-anchor="middle" font-size="12" filter="url(#redGlow)">ðŸ§ </text>

      <circle cx="160" cy="120" r="15" fill="#f5e7c1" stroke="#ff4444" stroke-width="2" opacity="0.9" filter="url(#parch)"/>
      <text x="160" y="126" text-anchor="middle" font-size="12" filter="url(#redGlow)">ðŸ”§</text>

      <circle cx="100" cy="180" r="15" fill="#f5e7c1" stroke="#ff4444" stroke-width="2" opacity="0.9" filter="url(#parch)"/>
      <text x="100" y="186" text-anchor="middle" font-size="12" filter="url(#redGlow)">ðŸ“š</text>

      <!-- Links (over-active - all firing) -->
      <line x1="100" y1="68" x2="52" y2="110" stroke="#ff4444" stroke-width="3" opacity="0.9" marker-end="url(#overactive)"/>
      <line x1="100" y1="68" x2="148" y2="110" stroke="#ff4444" stroke-width="3" opacity="0.9" marker-end="url(#overactive)"/>
      <line x1="55" y1="130" x2="90" y2="170" stroke="#ff4444" stroke-width="2.5" opacity="0.8" marker-end="url(#overactive)"/>
      <line x1="145" y1="130" x2="110" y2="170" stroke="#ff4444" stroke-width="2.5" opacity="0.8" marker-end="url(#overactive)"/>

      <!-- Extra chaos lines -->
      <line x1="40" y1="120" x2="160" y2="120" stroke="#ff8888" stroke-width="1.5" opacity="0.6"/>
      <line x1="100" y1="50" x2="100" y2="180" stroke="#ff8888" stroke-width="1.5" opacity="0.6"/>
    </g>

    <!-- Metrics -->
    <g transform="translate(20, 310)">
      <text x="0" y="0" font-family="Crimson Text, serif" font-size="13" fill="#ff4444">
        Criticality = active_links / potential_links
      </text>
      <text x="0" y="20" font-family="monospace" font-size="16" fill="#ff4444" font-weight="bold">
        12 / 10 = 2.40
      </text>

      <text x="0" y="50" font-family="Crimson Text, serif" font-size="12" fill="#ff8888">
        â€¢ Decay rate too low: 0.0005
      </text>
      <text x="0" y="68" font-family="Crimson Text, serif" font-size="12" fill="#ff8888">
        â€¢ Energy spreads faster than decay
      </text>
      <text x="0" y="86" font-family="Crimson Text, serif" font-size="12" fill="#ff8888">
        â€¢ Too many associations at once
      </text>
    </g>
  </g>

  <!-- ==================== AUTO-TUNING FEEDBACK LOOP ==================== -->
  <g transform="translate(100, 570)">
    <rect width="1200" height="200" fill="#1a1a2e" stroke="#00d9ff" stroke-width="2" rx="10" opacity="0.95"/>

    <text x="600" y="30" text-anchor="middle" font-family="Cinzel, serif" font-size="20" fill="#00d9ff" font-weight="bold">
      Self-Tuning Feedback Loop (Automatic, Continuous)
    </text>

    <!-- Step 1: Measure -->
    <g transform="translate(50, 60)">
      <circle cx="60" cy="50" r="40" fill="#0a0e1a" stroke="#5efc82" stroke-width="2"/>
      <text x="60" y="45" text-anchor="middle" font-family="Cinzel, serif" font-size="14" fill="#5efc82" font-weight="bold">1. Measure</text>
      <text x="60" y="62" text-anchor="middle" font-family="monospace" font-size="11" fill="#5efc82">criticality</text>

      <text x="60" y="110" text-anchor="middle" font-family="Crimson Text, serif" font-size="11" fill="#e8e2d5">
        Count active links
      </text>
      <text x="60" y="125" text-anchor="middle" font-family="Crimson Text, serif" font-size="11" fill="#a0a0a0">
        vs potential links
      </text>
    </g>

    <!-- Arrow 1 -->
    <line x1="150" y1="110" x2="220" y2="110" stroke="#00d9ff" stroke-width="2"/>
    <path d="M 220,105 L 230,110 L 220,115 Z" fill="#00d9ff"/>

    <!-- Step 2: Compare -->
    <g transform="translate(230, 60)">
      <circle cx="60" cy="50" r="40" fill="#0a0e1a" stroke="#ffd700" stroke-width="2"/>
      <text x="60" y="45" text-anchor="middle" font-family="Cinzel, serif" font-size="14" fill="#ffd700" font-weight="bold">2. Compare</text>
      <text x="60" y="62" text-anchor="middle" font-family="monospace" font-size="11" fill="#ffd700">to target</text>

      <text x="60" y="110" text-anchor="middle" font-family="Crimson Text, serif" font-size="11" fill="#e8e2d5">
        error = C - 1.0
      </text>
      <text x="60" y="125" text-anchor="middle" font-family="Crimson Text, serif" font-size="11" fill="#a0a0a0">
        (deviation from optimal)
      </text>
    </g>

    <!-- Arrow 2 -->
    <line x1="330" y1="110" x2="400" y2="110" stroke="#00d9ff" stroke-width="2"/>
    <path d="M 400,105 L 410,110 L 400,115 Z" fill="#00d9ff"/>

    <!-- Step 3: Adjust -->
    <g transform="translate(410, 60)">
      <circle cx="60" cy="50" r="40" fill="#0a0e1a" stroke="#00d9ff" stroke-width="2"/>
      <text x="60" y="50" text-anchor="middle" font-family="Cinzel, serif" font-size="14" fill="#00d9ff" font-weight="bold">3. Adjust</text>
      <text x="60" y="65" text-anchor="middle" font-family="monospace" font-size="11" fill="#00d9ff">decay_rate</text>

      <text x="60" y="110" text-anchor="middle" font-family="Crimson Text, serif" font-size="10" fill="#e8e2d5">
        If C &gt; 1.0: â†‘ decay (cool down)
      </text>
      <text x="60" y="125" text-anchor="middle" font-family="Crimson Text, serif" font-size="10" fill="#e8e2d5">
        If C &lt; 1.0: â†“ decay (warm up)
      </text>
    </g>

    <!-- Arrow 3 -->
    <line x1="510" y1="110" x2="580" y2="110" stroke="#00d9ff" stroke-width="2"/>
    <path d="M 580,105 L 590,110 L 580,115 Z" fill="#00d9ff"/>

    <!-- Step 4: System Responds -->
    <g transform="translate(590, 60)">
      <circle cx="60" cy="50" r="40" fill="#0a0e1a" stroke="#5efc82" stroke-width="2"/>
      <text x="60" y="45" text-anchor="middle" font-family="Cinzel, serif" font-size="14" fill="#5efc82" font-weight="bold">4. System</text>
      <text x="60" y="62" text-anchor="middle" font-family="Cinzel, serif" font-size="14" fill="#5efc82" font-weight="bold">Responds</text>

      <text x="60" y="110" text-anchor="middle" font-family="Crimson Text, serif" font-size="11" fill="#e8e2d5">
        Energy dynamics
      </text>
      <text x="60" y="125" text-anchor="middle" font-family="Crimson Text, serif" font-size="11" fill="#a0a0a0">
        change naturally
      </text>
    </g>

    <!-- Feedback arrow back -->
    <path d="M 710,110 Q 760,110 760,70 L 760,30 Q 760,10 740,10 L 110,10 Q 90,10 90,30 L 90,70"
          stroke="#5efc82" stroke-width="2" fill="none" stroke-dasharray="4,4" opacity="0.6"/>
    <path d="M 85,70 L 90,80 L 95,70 Z" fill="#5efc82" opacity="0.6"/>

    <text x="400" y="25" text-anchor="middle" font-family="Crimson Text, serif" font-size="11" fill="#5efc82" font-style="italic">
      Continuous loop â€” converges to criticality â‰ˆ 1.0 within ~100 ticks
    </text>
  </g>

  <!-- ==================== KEY INSIGHTS PANEL ==================== -->
  <g transform="translate(100, 810)">
    <rect width="1200" height="260" fill="#1a1a2e" stroke="#ffd700" stroke-width="2" rx="10" opacity="0.95"/>

    <text x="600" y="30" text-anchor="middle" font-family="Cinzel, serif" font-size="20" fill="#ffd700" font-weight="bold">
      Why Self-Organized Criticality Matters
    </text>

    <!-- Insight 1 -->
    <g transform="translate(50, 60)">
      <circle cx="15" cy="0" r="8" fill="#5efc82" opacity="0.8"/>
      <text x="35" y="5" font-family="Crimson Text, serif" font-size="14" fill="#e8e2d5" font-weight="bold">
        1. No Manual Tuning Required
      </text>
      <text x="35" y="25" font-family="Crimson Text, serif" font-size="13" fill="#a0a0a0">
        System automatically maintains optimal dynamics regardless of graph size, topology, or stimulus patterns.
      </text>
      <text x="35" y="43" font-family="Crimson Text, serif" font-size="13" fill="#a0a0a0">
        Scales naturally: 1K nodes, 1M nodes â€” same self-regulation mechanism works.
      </text>
    </g>

    <!-- Insight 2 -->
    <g transform="translate(50, 120)">
      <circle cx="15" cy="0" r="8" fill="#00d9ff" opacity="0.8"/>
      <text x="35" y="5" font-family="Crimson Text, serif" font-size="14" fill="#e8e2d5" font-weight="bold">
        2. Biological Plausibility
      </text>
      <text x="35" y="25" font-family="Crimson Text, serif" font-size="13" fill="#a0a0a0">
        Real neural systems exhibit self-organized criticality (observed in neural avalanches in cortex).
      </text>
      <text x="35" y="43" font-family="Crimson Text, serif" font-size="13" fill="#a0a0a0">
        You don't consciously tune your thinking speed â€” it happens automatically. This architecture matches that reality.
      </text>
    </g>

    <!-- Insight 3 -->
    <g transform="translate(50, 180)">
      <circle cx="15" cy="0" r="8" fill="#ffd700" opacity="0.8"/>
      <text x="35" y="5" font-family="Crimson Text, serif" font-size="14" fill="#e8e2d5" font-weight="bold">
        3. Prevents System Death and Chaos
      </text>
      <text x="35" y="25" font-family="Crimson Text, serif" font-size="13" fill="#a0a0a0">
        Without self-tuning: Too much decay â†’ system dies (all energy vanishes). Too little decay â†’ chaos (overwhelming activation).
      </text>
      <text x="35" y="43" font-family="Crimson Text, serif" font-size="13" fill="#5efc82">
        With self-tuning: System always returns to edge-of-chaos â€” the optimal state for information processing.
      </text>
    </g>
  </g>
</svg>
