# FalkorDB with Persistent Storage for Render
FROM falkordb/falkordb:latest

# Expose Redis port
EXPOSE 6379

# Data directory for persistence
VOLUME /data

# Run FalkorDB with reasonable persistence (saves every 5 min if 10+ changes)
# This balances data safety with migration performance
CMD ["redis-server", "--loadmodule", "/FalkorDB/bin/linux-x64-release/src/falkordb.so", "--dir", "/data", "--save", "300", "10", "--bind", "0.0.0.0"]
