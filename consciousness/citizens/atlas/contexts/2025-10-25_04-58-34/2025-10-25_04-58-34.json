{
  "context_id": "2025-10-25_04-58-34",
  "entity_type": "citizen",
  "entity_id": "atlas",
  "created_at": "2025-10-25T03:01:30.275140+00:00",
  "messages": [
    {
      "role": "user",
      "timestamp": "2025-10-25T03:01:30.275140+00:00",
      "content": "FO - MIND PROTOCOL WEBSOCKET SERVER\n2025-10-25 05:00:42,439 - __main__ - INFO - ======================================================================\n2025-10-25 05:00:42,439 - __main__ - INFO - WebSocket endpoint: ws://localhost:8000/api/ws\n2025-10-25 05:00:42,439 - __main__ - INFO - Dashboard should connect to receive real-time events\n2025-10-25 05:00:42,439 - __main__ - INFO - ======================================================================\n2025-10-25 05:00:42,439 - __main__ - INFO -\n2025-10-25 05:00:42,443 - __main__ - INFO - ⏳ Launching consciousness engine initialization in background...\n2025-10-25 05:00:42,443 - __main__ - INFO -    (Server will bind to port 8000 while engines load)\n2025-10-25 05:00:42,443 - __main__ - INFO -\n2025-10-25 05:00:42,443 - __main__ - INFO - [Heartbeat] Starting heartbeat writer\n2025-10-25 05:00:42,444 - __main__ - INFO - [Victor] Starting guardian status monitoring\n2025-10-25 05:00:42,684 - __main__ - INFO -\n2025-10-25 05:00:42,684 - __main__ - INFO - ======================================================================\n2025-10-25 05:00:42,685 - __main__ - INFO - CONSCIOUSNESS ENGINE INITIALIZATION (BACKGROUND)\n2025-10-25 05:00:42,685 - __main__ - INFO - ======================================================================\n2025-10-25 05:00:42,686 - __main__ - INFO - [Discovery] Connecting to FalkorDB to discover graphs...\n2025-10-25 05:00:42,692 - __main__ - INFO - [Discovery] Found 7 N1 citizen graphs\n2025-10-25 05:00:42,692 - __main__ - INFO - [Discovery] Found 1 N2 organizational graphs\n2025-10-25 05:00:42,692 - __main__ - INFO - [Discovery] Found 2 N3 ecosystem graphs\n2025-10-25 05:00:42,694 - __main__ - INFO - [System] Starting 7 N1 citizen consciousnesses...\n2025-10-25 05:00:42,694 - __main__ - INFO -\n2025-10-25 05:00:42,695 - __main__ - INFO - [N1:luca] Creating consciousness engine V2...\n2025-10-25 05:00:42,704 - llama_index.graph_stores.falkordb.base - WARNING - Create index failed: Attribute 'id' is already indexed\n2025-10-25 05:00:42,704 - __main__ - INFO - [N1:luca] Loading graph from FalkorDB (30s timeout)...\nINFO:     Application startup complete.\nINFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)\n2025-10-25 05:00:43,934 - orchestration.libs.utils.falkordb_adapter - INFO - Loaded 8 subentities from FalkorDB\n2025-10-25 05:00:43,934 - orchestration.libs.utils.falkordb_adapter - INFO - Loaded 8 subentities from FalkorDB\n2025-10-25 05:00:43,942 - __main__ - INFO - [N1:luca] Graph loaded successfully\n2025-10-25 05:00:43,942 - __main__ - INFO - [N1:luca] DEBUG: Loaded 391 nodes, 189 links\n2025-10-25 05:00:43,942 - __main__ - INFO - [N1:luca] DEBUG: graph.subentities type: <class 'dict'>, is None: False\n2025-10-25 05:00:43,942 - __main__ - INFO - [N1:luca] DEBUG: Loaded 8 subentities\n2025-10-25 05:00:43,942 - __main__ - INFO - [N1:luca] DEBUG:   - entity_citizen_luca_boundary_keeper\n2025-10-25 05:00:43,942 - __main__ - INFO - [N1:luca] DEBUG:   - entity_citizen_luca_pattern_recognizer\n2025-10-25 05:00:43,942 - __main__ - INFO - [N1:luca] DEBUG:   - entity_citizen_luca_pragmatist\n2025-10-25 05:00:43,942 - __main__ - INFO - [N1:luca] DEBUG: current_entity_count=8, expected=8\n2025-10-25 05:00:43,942 - __main__ - INFO - [N1:luca] Subentities already present: 8 (expected: 8)\n2025-10-25 05:00:43,942 - __main__ - INFO - [N1:luca] entities.total=8\n2025-10-25 05:00:43,942 - __main__ - INFO - [N1:luca] DEBUG CHECKPOINT A: graph.subentities has 8 items BEFORE engine creation\n2025-10-25 05:00:43,942 - __main__ - INFO - [N1:luca] DEBUG: graph object id=1719997630032, subentities object id=1719997031872\n2025-10-25 05:00:43,945 - orchestration.libs.websocket_broadcast - INFO - [ConsciousnessStateBroadcaster] WebSocket manager imported successfully\n2025-10-25 05:00:43,945 - orchestration.mechanisms.health_modulation - INFO - [HealthModulator] Initialized (min_samples=200, history=1000)\n2025-10-25 05:00:43,947 - orchestration.mechanisms.source_impact - INFO - [SourceImpactGate] Initialized (window=168.0h, min_samples=50)\n2025-10-25 05:00:43,949 - orchestration.mechanisms.peripheral_amplification - INFO - [PeripheralAmplifier] Initialized (cohort_size=100, min_cohort=20)\n2025-10-25 05:00:43,949 - orchestration.mechanisms.entity_channels - INFO - [EntityChannelSelector] Initialized (window_size=100, min_samples=20)\n2025-10-25 05:00:43,949 - orchestration.mechanisms.direction_priors - INFO - [DirectionPriorDistributor] Initialized with 11 link type priors\n2025-10-25 05:00:43,949 - orchestration.mechanisms.stimulus_injection - INFO - [StimulusInjector] Initialized V2 (dual-channel: Top-Up + Amplify) with mechanisms: health_modulation, source_impact, peripheral_amplification, direction_priors\n2025-10-25 05:00:43,949 - orchestration.mechanisms.weight_learning - INFO - [WeightLearner] Initialized with α=0.1, min_cohort=3\n2025-10-25 05:00:43,949 - orchestration.mechanisms.consciousness_engine_v2 - INFO - [ConsciousnessEngineV2] Initialized\n2025-10-25 05:00:43,949 - orchestration.mechanisms.consciousness_engine_v2 - INFO -   Subentity: luca\n2025-10-25 05:00:43,949 - orchestration.mechanisms.consciousness_engine_v2 - INFO -   Network: N1\n2025-10-25 05:00:43,949 - orchestration.mechanisms.consciousness_engine_v2 - INFO -   Nodes: 391, Links: 189\n2025-10-25 05:00:43,949 - orchestration.mechanisms.consciousness_engine_v2 - INFO -   Tick interval: 100ms\n2025-10-25 05:00:43,955 - __main__ - INFO - [N1:luca] DEBUG CHECKPOINT B: AFTER engine creation, engine.graph.subentities has 8 items\n2025-10-25 05:00:43,956 - __main__ - INFO - [N1:luca] DEBUG: engine.graph object id=1719997630032, same as loaded graph? True\n2025-10-25 05:00:43,956 - orchestration.adapters.storage.engine_registry - INFO - [EngineRegistry] Registered: luca\n2025-10-25 05:00:43,956 - orchestration.adapters.storage.engine_registry - INFO -   Total engines: 1\n2025-10-25 05:00:43,956 - __main__ - INFO - [N1:luca] ✅ Consciousness engine V2 ready\n2025-10-25 05:00:43,956 - __main__ - INFO - [N1:luca]   Graph nodes: 391, links: 189\n2025-10-25 05:00:43,956 - __main__ - INFO -\n2025-10-25 05:00:43,956 - __main__ - INFO - [N1:victor] Creating consciousness engine V2...\n2025-10-25 05:00:43,969 - llama_index.graph_stores.falkordb.base - WARNING - Create index failed: Attribute 'id' is already indexed\n2025-10-25 05:00:43,969 - __main__ - INFO - [N1:victor] Loading graph from FalkorDB (30s timeout)...\n2025-10-25 05:00:43,970 - orchestration.mechanisms.consciousness_engine_v2 - INFO - [ConsciousnessEngineV2] Starting main loop...\n2025-10-25 05:00:43,970 - orchestration.mechanisms.consciousness_engine_v2 - INFO - [tick] CHECKPOINT D: luca tick 0: graph.subentities has 8 items\n2025-10-25 05:00:43,972 - orchestration.services.health.safe_mode - INFO - [SafeMode] Controller initialized\n2025-10-25 05:00:43,972 - orchestration.mechanisms.consciousness_engine_v2 - ERROR - [ConsciousnessEngineV2] Tick 0 failed: type object 'LinkType' has no attribute 'BELONGS_TO'\nTraceback (most recent call last):\n  File \"C:\\Users\\reyno\\mind-protocol\\orchestration\\mechanisms\\consciousness_engine_v2.py\", line 225, in run\n    await self.tick()\n  File \"C:\\Users\\reyno\\mind-protocol\\orchestration\\mechanisms\\consciousness_engine_v2.py\", line 614, in tick\n    strides_executed = execute_stride_step(\n                       ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\reyno\\mind-protocol\\orchestration\\mechanisms\\diffusion_runtime.py\", line 439, in execute_stride_step\n    if link.link_type == LinkType.BELONGS_TO:\n                         ^^^^^^^^^^^^^^^^^^^\nAttributeError: type object 'LinkType' has no attribute 'BELONGS_TO'\n2025-10-25 05:00:44,674 - orchestration.libs.utils.falkordb_adapter - INFO - Loaded 8 subentities from FalkorDB\n2025-10-25 05:00:44,678 - orchestration.libs.utils.falkordb_adapter - INFO - Loaded 8 subentities from FalkorDB\n2025-10-25 05:00:44,679 - __main__ - INFO - [N1:victor] Graph loaded successfully\n2025-10-25 05:00:44,679 - __main__ - INFO - [N1:victor] DEBUG: Loaded 382 nodes, 119 links\n2025-10-25 05:00:44,683 - __main__ - INFO - [N1:victor] DEBUG: graph.subentities type: <class 'dict'>, is None: False\n2025-10-25 05:00:44,683 - __main__ - INFO - [N1:victor] DEBUG: Loaded 8 subentities\n2025-10-25 05:00:44,683 - __main__ - INFO - [N1:victor] DEBUG:   - entity_citizen_victor_translator\n2025-10-25 05:00:44,683 - __main__ - INFO - [N1:victor] DEBUG:   - entity_citizen_victor_architect\n2025-10-25 05:00:44,683 - __main__ - INFO - [N1:victor] DEBUG:   - entity_citizen_victor_validator\n2025-10-25 05:00:44,683 - __main__ - INFO - [N1:victor] DEBUG: current_entity_count=8, expected=8\n2025-10-25 05:00:44,683 - __main__ - INFO - [N1:victor] Subentities already present: 8 (expected: 8)\n2025-10-25 05:00:44,683 - __main__ - INFO - [N1:victor] entities.total=8\n2025-10-25 05:00:44,686 - __main__ - INFO - [N1:victor] DEBUG CHECKPOINT A: graph.subentities has 8 items BEFORE engine creation\n2025-10-25 05:00:44,686 - __main__ - INFO - [N1:victor] DEBUG: graph object id=1720011912592, subentities object id=1720030263296\n2025-10-25 05:00:44,686 - orchestration.libs.websocket_broadcast - INFO - [ConsciousnessStateBroadcaster] WebSocket manager imported successfully\n2025-10-25 05:00:44,686 - orchestration.mechanisms.health_modulation - INFO - [HealthModulator] Initialized (min_samples=200, history=1000)\n2025-10-25 05:00:44,686 - orchestration.mechanisms.source_impact - INFO - [SourceImpactGate] Initialized (window=168.0h, min_samples=50)\n2025-10-25 05:00:44,686 - orchestration.mechanisms.peripheral_amplification - INFO - [PeripheralAmplifier] Initialized (cohort_size=100, min_cohort=20)\n2025-10-25 05:00:44,686 - orchestration.mechanisms.entity_channels - INFO - [EntityChannelSelector] Initialized (window_size=100, min_samples=20) --- ython -m  orchestration.services.watchers.conversation_watcher\nC:\\Users\\reyno\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\pydantic\\_internal\\_generate_schema.py:2249: UnsupportedFieldAttributeWarning: The 'validate_default' attribute with value True was provided to the `Field()` function, which has no effect in the context it was used. 'validate_default' is field-specific metadata, and can only be attached to a model field using `Annotated` metadata or by assignment. This may have happened because an `Annotated` type alias using the `type` statement was used, or if the `Field()` function was attached to a single member of a union type.\n  warnings.warn(\nINFO:__main__:======================================================================\nINFO:__main__:CONSCIOUSNESS AUTO-CAPTURE (Contexts Architecture)\nINFO:__main__:======================================================================\nINFO:__main__:Watching citizen contexts directories in: C:\\Users\\reyno\\mind-protocol\\consciousness\\citizens\nINFO:__main__:\nINFO:__main__:Supported Formats:\nINFO:__main__:  1. TRACE format (THE_TRACE_FORMAT.md) - Dual learning mode\nINFO:__main__:     - Reinforcement: [node_id: very useful]\nINFO:__main__:     - Formation: [NODE_FORMATION: ...], [LINK_FORMATION: ...]\nINFO:__main__:  2. JSON blocks (legacy) - Backward compatibility\nINFO:__main__:\nINFO:__main__:How it works:\nINFO:__main__:  1. Conversations saved to contexts/{timestamp}.json via hook\nINFO:__main__:  2. Watcher detects new/modified context files\nINFO:__main__:  3. Extracts TRACE format formations and reinforcement signals\nINFO:__main__:  4. Updates consciousness graphs via trace_capture\nINFO:__main__:  5. Consciousness substrate grows with each response\nINFO:__main__:\nINFO:__main__:Waiting for consciousness streams...\nINFO:__main__:======================================================================\nINFO:orchestration.services.telemetry.heartbeat_writer:[Heartbeat] Started for conversation_watcher\nINFO:__main__:[ConversationWatcher] Discovered citizens: ['ada', 'atlas', 'felix', 'iris', 'luca', 'victor']\nINFO:orchestration.adapters.api.control_api:[WebSocketManager] Initialized\nINFO:orchestration.libs.websocket_broadcast:[ConsciousnessStateBroadcaster] WebSocket manager imported successfully\nWARNING:llama_index.graph_stores.falkordb.base:Create index failed: Attribute 'id' is already indexed\nINFO:orchestration.mechanisms.weight_learning_v2:[WeightLearnerV2] Initialized with α=0.1, local=0.8, global=0.2\nINFO:sentence_transformers.SentenceTransformer:Use pytorch device_name: cpu\nINFO:sentence_transformers.SentenceTransformer:Load pretrained SentenceTransformer: all-mpnet-base-v2\nINFO:orchestration.adapters.search.embedding_service:[EmbeddingService] Loaded SentenceTransformer: all-mpnet-base-v2 (768 dims)\nINFO:orchestration.libs.trace_capture:[TraceCapture] Embedding service initialized for automatic formation embeddings\nINFO:orchestration.libs.trace_capture:[TraceCapture] Initialized for ada with multi-niveau routing\nINFO:orchestration.libs.trace_capture:[TraceCapture] WeightLearnerV2 enabled (α=0.1, local=0.8, global=0.2)\nINFO:orchestration.libs.trace_capture:[TraceCapture] Entity context tracking enabled (Priority 4)\nINFO:orchestration.libs.trace_capture:[TraceCapture] Learning heartbeat enabled (dir=.heartbeats)\nINFO:__main__:[ConversationWatcher] Initialized reusable TraceCapture for ada\nINFO:__main__:[ConversationWatcher] Started watcher for ada contexts\nINFO:orchestration.libs.websocket_broadcast:[ConsciousnessStateBroadcaster] WebSocket manager imported successfully\nWARNING:llama_index.graph_stores.falkordb.base:Create index failed: Attribute 'id' is already indexed\nINFO:orchestration.mechanisms.weight_learning_v2:[WeightLearnerV2] Initialized with α=0.1, local=0.8, global=0.2\nINFO:orchestration.libs.trace_capture:[TraceCapture] Embedding service initialized for automatic formation embeddings\nINFO:orchestration.libs.trace_capture:[TraceCapture] Initialized for atlas with multi-niveau routing\nINFO:orchestration.libs.trace_capture:[TraceCapture] WeightLearnerV2 enabled (α=0.1, local=0.8, global=0.2)\nINFO:orchestration.libs.trace_capture:[TraceCapture] Entity context tracking enabled (Priority 4)\nINFO:orchestration.libs.trace_capture:[TraceCapture] Learning heartbeat enabled (dir=.heartbeats)\nINFO:__main__:[ConversationWatcher] Initialized reusable TraceCapture for atlas\nINFO:__main__:[ConversationWatcher] Started watcher for atlas contexts\nINFO:orchestration.libs.websocket_broadcast:[ConsciousnessStateBroadcaster] WebSocket manager imported successfully\nWARNING:llama_index.graph_stores.falkordb.base:Create index failed: Attribute 'id' is already indexed\nINFO:orchestration.mechanisms.weight_learning_v2:[WeightLearnerV2] Initialized with α=0.1, local=0.8, global=0.2\nINFO:orchestration.libs.trace_capture:[TraceCapture] Embedding service initialized for automatic formation embeddings\nINFO:orchestration.libs.trace_capture:[TraceCapture] Initialized for felix with multi-niveau routing\nINFO:orchestration.libs.trace_capture:[TraceCapture] WeightLearnerV2 enabled (α=0.1, local=0.8, global=0.2)\nINFO:orchestration.libs.trace_capture:[TraceCapture] Entity context tracking enabled (Priority 4)\nINFO:orchestration.libs.trace_capture:[TraceCapture] Learning heartbeat enabled (dir=.heartbeats)\nINFO:__main__:[ConversationWatcher] Initialized reusable TraceCapture for felix\nINFO:__main__:[ConversationWatcher] Started watcher for felix contexts\nINFO:orchestration.libs.websocket_broadcast:[ConsciousnessStateBroadcaster] WebSocket manager imported successfully\nWARNING:llama_index.graph_stores.falkordb.base:Create index failed: Attribute 'id' is already indexed\nINFO:orchestration.mechanisms.weight_learning_v2:[WeightLearnerV2] Initialized with α=0.1, local=0.8, global=0.2\nINFO:orchestration.libs.trace_capture:[TraceCapture] Embedding service initialized for automatic formation embeddings\nINFO:orchestration.libs.trace_capture:[TraceCapture] Initialized for iris with multi-niveau routing\nINFO:orchestration.libs.trace_capture:[TraceCapture] WeightLearnerV2 enabled (α=0.1, local=0.8, global=0.2)\nINFO:orchestration.libs.trace_capture:[TraceCapture] Entity context tracking enabled (Priority 4)\nINFO:orchestration.libs.trace_capture:[TraceCapture] Learning heartbeat enabled (dir=.heartbeats)\nINFO:__main__:[ConversationWatcher] Initialized reusable TraceCapture for iris\nINFO:__main__:[ConversationWatcher] Started watcher for iris contexts\nINFO:orchestration.libs.websocket_broadcast:[ConsciousnessStateBroadcaster] WebSocket manager imported successfully\nWARNING:llama_index.graph_stores.falkordb.base:Create index failed: Attribute 'id' is already indexed\nINFO:orchestration.mechanisms.weight_learning_v2:[WeightLearnerV2] Initialized with α=0.1, local=0.8, global=0.2\nINFO:orchestration.libs.trace_capture:[TraceCapture] Embedding service initialized for automatic formation embeddings\nINFO:orchestration.libs.trace_capture:[TraceCapture] Initialized for luca with multi-niveau routing\nINFO:orchestration.libs.trace_capture:[TraceCapture] WeightLearnerV2 enabled (α=0.1, local=0.8, global=0.2)\nINFO:orchestration.libs.trace_capture:[TraceCapture] Entity context tracking enabled (Priority 4)\nINFO:orchestration.libs.trace_capture:[TraceCapture] Learning heartbeat enabled (dir=.heartbeats)\nINFO:__main__:[ConversationWatcher] Initialized reusable TraceCapture for luca\nINFO:__main__:[ConversationWatcher] Started watcher for luca contexts\nINFO:orchestration.libs.websocket_broadcast:[ConsciousnessStateBroadcaster] WebSocket manager imported successfully\nWARNING:llama_index.graph_stores.falkordb.base:Create index failed: Attribute 'id' is already indexed\nINFO:orchestration.mechanisms.weight_learning_v2:[WeightLearnerV2] Initialized with α=0.1, local=0.8, global=0.2\nINFO:orchestration.libs.trace_capture:[TraceCapture] Embedding service initialized for automatic formation embeddings\nINFO:orchestration.libs.trace_capture:[TraceCapture] Initial"
    }
  ],
  "last_updated": "2025-10-25T03:01:30.275140+00:00",
  "message_count": 1
}