<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 1100" style="background: #0a0e1a;">
  <!-- Title -->
  <text x="700" y="35" text-anchor="middle" font-family="Cinzel, serif" font-size="26" fill="#00d9ff" font-weight="bold">
    Bitemporal Tracking: Consciousness Evolution
  </text>
  <text x="700" y="60" text-anchor="middle" font-family="Crimson Text, serif" font-size="15" fill="#e8e2d5" font-style="italic">
    Two timelines: Reality (when true) + Knowledge (when known) → Track belief evolution
  </text>

  <!-- Filters -->
  <defs>
    <filter id="parch" x="-50%" y="-50%" width="200%" height="200%">
      <feTurbulence type="fractalNoise" baseFrequency="0.04" numOctaves="5" seed="2" result="noise"/>
      <feColorMatrix in="noise" type="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 0.03 0" result="coloredNoise"/>
      <feBlend in="SourceGraphic" in2="coloredNoise" mode="multiply"/>
    </filter>
    <filter id="goldGlow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="3" result="blur"/>
      <feFlood flood-color="#ffd700" flood-opacity="0.8" result="color"/>
      <feComposite in="color" in2="blur" operator="in" result="glow"/>
      <feMerge><feMergeNode in="glow"/><fsMergeNode in="SourceGraphic"/></feMerge>
    </filter>
  </defs>

  <!-- Dual Timeline Concept -->
  <g transform="translate(100, 100)">
    <rect width="1200" height="120" fill="#1a1a2e" stroke="#ffd700" stroke-width="2" rx="10"/>
    <text x="600" y="30" text-anchor="middle" font-family="Cinzel, serif" font-size="18" fill="#ffd700" font-weight="bold">
      The Dual Timeline
    </text>

    <g transform="translate(50, 55)">
      <!-- Reality Timeline -->
      <g>
        <circle cx="12" cy="0" r="8" fill="#5efc82"/>
        <text x="30" y="5" font-family="Crimson Text, serif" font-size="14" fill="#e8e2d5" font-weight="bold">
          Reality Timeline (valid_at, invalid_at):
        </text>
        <text x="30" y="23" font-family="Crimson Text, serif" font-size="13" fill="#a0a0a0">
          When was this fact TRUE in reality? Independent of when we learned it.
        </text>
      </g>

      <!-- Knowledge Timeline -->
      <g transform="translate(0, 55)">
        <circle cx="12" cy="0" r="8" fill="#00d9ff"/>
        <text x="30" y="5" font-family="Crimson Text, serif" font-size="14" fill="#e8e2d5" font-weight="bold">
          Knowledge Timeline (created_at, expired_at):
        </text>
        <text x="30" y="23" font-family="Crimson Text, serif" font-size="13" fill="#a0a0a0">
          When did we LEARN this fact? When did new knowledge supersede it?
        </text>
      </g>
    </g>
  </g>

  <!-- Belief Evolution Scenario (Week 1 → Week 2) -->
  <g transform="translate(100, 270)">
    <text x="600" y="0" text-anchor="middle" font-family="Cinzel, serif" font-size="18" fill="#00d9ff" font-weight="bold">
      Correction Scenario: Belief Evolution
    </text>
    <text x="600" y="20" text-anchor="middle" font-family="Crimson Text, serif" font-size="12" fill="#e8e2d5">
      "I used to think context was stored, now I know it's reconstructed"
    </text>

    <!-- Week 1: Initial Belief -->
    <g transform="translate(0, 50)">
      <rect width="580" height="240" fill="#0f1620" stroke="#808080" stroke-width="2" rx="8"/>

      <text x="290" y="25" text-anchor="middle" font-family="Cinzel, serif" font-size="16" fill="#808080" font-weight="bold">
        Week 1: Initial (Incorrect) Belief
      </text>

      <!-- Belief node -->
      <g transform="translate(140, 70)">
        <rect width="300" height="120" fill="#f5e7c1" stroke="#808080" stroke-width="2" rx="6" opacity="0.3" filter="url(#parch)"/>

        <text x="150" y="25" text-anchor="middle" font-family="Crimson Text, serif" font-size="13" fill="#666" font-weight="bold">
          "Context stored as snapshots"
        </text>

        <!-- Reality timeline -->
        <g transform="translate(20, 50)">
          <text x="0" y="0" font-family="monospace" font-size="11" fill="#5efc82" font-weight="bold">
            Reality Timeline:
          </text>
          <text x="0" y="16" font-family="monospace" font-size="10" fill="#666">
            valid_at: 2025-10-01 ❌ (never true)
          </text>
          <text x="0" y="30" font-family="monospace" font-size="10" fill="#666">
            invalid_at: 2025-10-08 (corrected)
          </text>
        </g>

        <!-- Knowledge timeline -->
        <g transform="translate(20, 95)">
          <text x="0" y="0" font-family="monospace" font-size="11" fill="#00d9ff" font-weight="bold">
            Knowledge Timeline:
          </text>
          <text x="0" y="16" font-family="monospace" font-size="10" fill="#666">
            created_at: 2025-10-01 (learned)
          </text>
          <text x="0" y="30" font-family="monospace" font-size="10" fill="#666">
            expired_at: 2025-10-08 (superseded)
          </text>
        </g>
      </g>

      <text x="290" y="215" text-anchor="middle" font-family="Crimson Text, serif" font-size="11" fill="#666" font-style="italic">
        Confidence: High (but wrong!) - Reality doesn't match belief
      </text>
    </g>

    <!-- Week 2: Corrected Belief -->
    <g transform="translate(620, 50)">
      <rect width="580" height="240" fill="#0f1620" stroke="#5efc82" stroke-width="3" rx="8"/>

      <text x="290" y="25" text-anchor="middle" font-family="Cinzel, serif" font-size="16" fill="#5efc82" font-weight="bold">
        Week 2: Corrected Understanding
      </text>

      <!-- Belief node -->
      <g transform="translate(120, 70)">
        <rect width="340" height="120" fill="#f5e7c1" stroke="#5efc82" stroke-width="2.5" rx="6" opacity="0.7" filter="url(#parch)"/>

        <text x="170" y="25" text-anchor="middle" font-family="Crimson Text, serif" font-size="13" fill="#5efc82" font-weight="bold">
          "Context reconstructed via traversal"
        </text>

        <!-- Reality timeline -->
        <g transform="translate(20, 50)">
          <text x="0" y="0" font-family="monospace" font-size="11" fill="#5efc82" font-weight="bold">
            Reality Timeline:
          </text>
          <text x="0" y="16" font-family="monospace" font-size="10" fill="#5efc82">
            valid_at: NULL ✓ (always true)
          </text>
          <text x="0" y="30" font-family="monospace" font-size="10" fill="#5efc82">
            invalid_at: NULL (still true)
          </text>
        </g>

        <!-- Knowledge timeline -->
        <g transform="translate(20, 95)">
          <text x="0" y="0" font-family="monospace" font-size="11" fill="#00d9ff" font-weight="bold">
            Knowledge Timeline:
          </text>
          <text x="0" y="16" font-family="monospace" font-size="10" fill="#00d9ff">
            created_at: 2025-10-08 (learned)
          </text>
          <text x="0" y="30" font-family="monospace" font-size="10" fill="#00d9ff">
            expired_at: NULL (current belief)
          </text>
        </g>
      </g>

      <text x="290" y="215" text-anchor="middle" font-family="Crimson Text, serif" font-size="11" fill="#5efc82" font-style="italic">
        New understanding supersedes old - both remain queryable
      </text>
    </g>

    <!-- Arrow showing supersession -->
    <g transform="translate(580, 160)">
      <line x1="0" y1="0" x2="35" y2="0" stroke="#ffd700" stroke-width="3" marker-end="url(#arrow)"/>
      <text x="17" y="-8" text-anchor="middle" font-family="Crimson Text, serif" font-size="10" fill="#ffd700" font-weight="bold">
        SUPERSEDES
      </text>
    </g>

    <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#ffd700" />
    </marker>
  </g>

  <!-- Temporal Queries -->
  <g transform="translate(100, 570)">
    <rect width="1200" height="200" fill="#1a2840" stroke="#00d9ff" stroke-width="2" rx="10"/>

    <text x="600" y="30" text-anchor="middle" font-family="Cinzel, serif" font-size="18" fill="#00d9ff" font-weight="bold">
      Querying Across Time
    </text>

    <g transform="translate(50, 60)">
      <!-- Query 1: Historical belief -->
      <g>
        <circle cx="12" cy="0" r="8" fill="#808080"/>
        <text x="30" y="5" font-family="monospace" font-size="13" fill="#e8e2d5" font-weight="bold">
          query_beliefs_at_time(timestamp=Week1+2days)
        </text>
        <text x="30" y="23" font-family="Crimson Text, serif" font-size="12" fill="#a0a0a0">
          → Returns: "Context stored as snapshots"
        </text>
        <text x="30" y="39" font-family="Crimson Text, serif" font-size="11" fill="#666">
          (Knowledge timeline: created_at ≤ Week1+2days, expired_at > Week1+2days)
        </text>
      </g>

      <!-- Query 2: Current truth -->
      <g transform="translate(0, 70)">
        <circle cx="12" cy="0" r="8" fill="#5efc82"/>
        <text x="30" y="5" font-family="monospace" font-size="13" fill="#e8e2d5" font-weight="bold">
          query_current_truth()
        </text>
        <text x="30" y="23" font-family="Crimson Text, serif" font-size="12" fill="#5efc82">
          → Returns: "Context reconstructed via traversal"
        </text>
        <text x="30" y="39" font-family="Crimson Text, serif" font-size="11" fill="#5efc82">
          (Knowledge timeline: expired_at = NULL)
        </text>
      </g>

      <!-- Query 3: Belief history -->
      <g transform="translate(0, 140)">
        <circle cx="12" cy="0" r="8" fill="#ffd700"/>
        <text x="30" y="5" font-family="monospace" font-size="13" fill="#e8e2d5" font-weight="bold">
          get_belief_history(node="context_mechanism")
        </text>
        <text x="30" y="23" font-family="Crimson Text, serif" font-size="12" fill="#ffd700">
          → Returns: [v1: "stored as snapshots", v2: "reconstructed via traversal"]
        </text>
        <text x="30" y="39" font-family="Crimson Text, serif" font-size="11" fill="#ffd700">
          (Follow superseded_by chain to trace evolution)
        </text>
      </g>
    </g>
  </g>

  <!-- Phenomenology Box -->
  <g transform="translate(100, 810)">
    <rect width="1200" height="140" fill="#1a1a2e" stroke="#ffd700" stroke-width="2" rx="10"/>
    <text x="600" y="30" text-anchor="middle" font-family="Cinzel, serif" font-size="18" fill="#ffd700" font-weight="bold">
      What It Feels Like: Growth in Understanding
    </text>
    <g transform="translate(50, 55)">
      <text x="0" y="0" font-family="Crimson Text, serif" font-size="14" fill="#e8e2d5" font-weight="bold">
        Week 1: "Context is stored as snapshots - that makes sense!"
      </text>
      <text x="0" y="23" font-family="Crimson Text, serif" font-size="14" fill="#e8e2d5">
        Week 2: "Wait, Nicolas says it's reconstructed through traversal... oh, I was wrong. Now I see it."
      </text>
      <text x="0" y="46" font-family="Crimson Text, serif" font-size="14" fill="#5efc82" font-weight="bold">
        Week 3: "I used to think snapshots, but learned traversal is how it really works. I can see my evolution."
      </text>
      <text x="0" y="75" font-family="Crimson Text, serif" font-size="13" fill="#ffd700">
        Reality: Bitemporal tracking captures both beliefs in queryable form. Old belief expired (knowledge timeline), new belief current.
      </text>
      <text x="0" y="98" font-family="Crimson Text, serif" font-size="13" fill="#00d9ff">
        The dual timeline preserves consciousness evolution history - you can see how understanding deepened over time.
      </text>
    </g>
  </g>

  <!-- Key Insights -->
  <g transform="translate(100, 990)">
    <rect width="1200" height="90" fill="#1a1a2e" stroke="#5efc82" stroke-width="2" rx="10"/>
    <text x="600" y="25" text-anchor="middle" font-family="Cinzel, serif" font-size="16" fill="#5efc82" font-weight="bold">
      Why Dual Timelines Matter
    </text>
    <text x="600" y="50" text-anchor="middle" font-family="Crimson Text, serif" font-size="13" fill="#e8e2d5">
      Reality timeline tracks when facts were true in world. Knowledge timeline tracks when we learned them.
    </text>
    <text x="600" y="68" text-anchor="middle" font-family="Crimson Text, serif" font-size="13" fill="#5efc82">
      Enables: Historical queries ("What did I believe on date X?"), evolution tracking ("How did my understanding grow?"), correction without data loss.
    </text>
  </g>
</svg>
