# FalkorDB with Persistent Storage for Render
FROM falkordb/falkordb:latest

# Expose Redis port
EXPOSE 6379

# Data directory for persistence
VOLUME /data

# Run FalkorDB with persistence disabled (migration in progress)
# Auto-save disabled to prevent overwriting uploaded RDB
CMD ["redis-server", "--loadmodule", "/FalkorDB/bin/linux-x64-release/src/falkordb.so", "--dir", "/data", "--save", "", "--bind", "0.0.0.0"]
